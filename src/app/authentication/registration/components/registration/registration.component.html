<form #registrationForm="ngForm" (ngSubmit)="registerUser()">
    <div class="form-group">
        <label for="username">Username</label>
        <input name="username"
            id="username"
            class="form-control"
            [(ngModel)]="registrationData.username"
            minlength="4"
            maxlength="50"
            required
            #username="ngModel"
            (blur)="checkUsernameUniqueness()"
            (ngModelChange)="onUsernameInputChanged()">
        <p class="text-danger" *ngIf="isUsernameTaken">
            You can't use this username
        </p>  
    </div>
    <div class="form-group">
        <label for="email">E-mail</label>
        <input name="email"
            type="email"
            id="email"
            class="form-control"
            [(ngModel)]="registrationData.email"
            email="true"
            required
            #email="ngModel"
            (blur)="checkEmailUniqueness()"
            (ngModelChange)="onEmailInputChanged()">
        <p class="text-danger" *ngIf="isEmailTaken">
            You can't use this email
        </p> 
    </div>
    <div class="form-group">
        <label for="password">Password (at least 6 symbols)</label>
        <input name="password"
            type="password"
            id="password"
            class="form-control"
            [(ngModel)]="registrationData.password"
            minlength="6"
            maxlength="100"
            required>
    </div>
    <div class="form-group">
        <label for="confirmPassword">Confirm password</label>
        <input name="confirmPassword"
            type="password"
            id="confirmPassword"
            class="form-control"
            [(ngModel)]="registrationData.confirmPassword"
            minlength="6"
            maxlength="100"
            required>
    </div>
    <button type="submit"
            class="btn btn-primary"
            [disabled]="!registrationForm.valid || isEmailTaken || isUsernameTaken">
        Submit
    </button>
</form>